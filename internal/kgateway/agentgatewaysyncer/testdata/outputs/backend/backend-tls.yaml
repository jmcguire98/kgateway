Addresses:
- service:
    hostname: mcp-svc.default.svc.cluster.local
    name: mcp-svc
    namespace: default
    ports:
    - servicePort: 80
Backends:
- ai:
    providerGroups:
    - providers:
      - name: openai
        openai:
          model: gpt-4o
      - anthropic:
          model: claude-3-opus-20240229
        name: anthropic
  name: default/ai-groups
- ai:
    providerGroups:
    - providers:
      - anthropic:
          model: claude-3-opus-20240229
        name: backend
  name: default/anthropic-single
- mcp:
    targets:
    - backend:
        backend: default/mcp-backend/mcp-static
        port: 8000
      name: mcp-static
      protocol: STREAMABLE_HTTP
    - backend:
        port: 80
        service: default/mcp-svc.default.svc.cluster.local
      name: mcp-svc-80
      path: /test
      protocol: STREAMABLE_HTTP
  name: default/mcp-backend
- name: default/mcp-backend/mcp-static
  static:
    host: mcp-app.foo
    port: 8000
- ai:
    providerGroups:
    - providers:
      - name: backend
        openai:
          model: gpt-4o
  name: default/openai-single
Binds:
- key: 80/default/example-gateway
  port: 80
Listeners:
- bindKey: 80/default/example-gateway
  gatewayName: default/example-gateway
  key: default/example-gateway.http
  name: http
  protocol: HTTP
Policies:
- name: auth-default/ai-groups-anthropic
  spec:
    auth:
      key:
        secret: sk-anthropic-primary
  target:
    subBackend: default/ai-groups/anthropic
- name: auth-default/anthropic-single-backend
  spec:
    auth:
      key:
        secret: sk-anthropic-primary
  target:
    subBackend: default/anthropic-single/backend
- name: default/ai-tls-all-groups:backendtls:default/ai-groups
  spec:
    backendTls:
      hostname: baz
  target:
    backend: default/ai-groups
- name: default/ai-tls:backendtls:default/ai-groups/anthropic
  spec:
    backendTls:
      hostname: foo
  target:
    subBackend: default/ai-groups/anthropic
- name: default/ai-tls:backendtls:default/openai-single/backend
  spec:
    backendTls:
      hostname: foo
  target:
    subBackend: default/openai-single/backend
- name: default/mcp-tls-ca-cert:backendtls:default/mcp-svc.default.svc.cluster.local
  spec:
    backendTls:
      hostname: mcp-svc.foo
      root: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMxakNDQWI0Q0NRQ0pjekx5QkJaMUdUQU5CZ2txaGtpRzl3MEJBUXNGQURBdE1SVXdFd1lEVlFRS0RBeGwKZUdGdGNHeGxJRWx1WXk0eEZEQVNCZ05WQkFNTUMyVjRZVzF3YkdVdVkyOXRNQjRYRFRJMU1ETXdOekUwTWpreApObG9YRFRJMk1ETXdOekUwTWpreE5sb3dMVEVWTUJNR0ExVUVDZ3dNWlhoaGJYQnNaU0JKYm1NdU1SUXdFZ1lEClZRUUREQXRsZUdGdGNHeGxMbU52YlRDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUIKQU4wVTZUVllFQ2t3cW54aDFLdDNkUytMaWFsclhCT1hLYWdqOXRFNTgyVDZkd21xVGhENzVWWlByTktrUm9ZTwphVXpDY3RmRGtVQlhSZW1PVE11dDdFUzV4b0F0U0FocjJHQW5xZ00zK3lCQ0xPeG9vU2pFRmRscEZUN2RoaTF3CmpPUGE1aU1oNnZlL3BIdVJIdkV1YUYvSjZQOHRyODN3R3V0eC94RlpWdUdBOVYxQW1CbVloZVBNK0poZGN3YUIKMStJYkpwMzBnR3lQZlk0dmRSUTlWUVdiVGhFOHBzRXphaCszU2dUS0pTSVQ3TkFkd2lJdTNPM3JYT1JiYVlZVQpveWNnWFVIZE9LUmJKbmJ2eTNwVG5GWko1MHNnMUhJQTR5QmRYN2MwZGl5OFp6M1N1b29uZGczRGZvcldyMHBCCkhzNnR5U0FRb3oyUmlBcURxY0UycmJNQ0F3RUFBVEFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBV1BrejNkSlcKYitMRnRudjdNbE9WTTc5WTRQcWVpSG5helAxRzlGd25XQkhBUmtqSVNzYXgzYjB6WDgvUkhuVTgzYzN0TFA1RApWd2VuWWI5QjltelhiTGlXSThhYVgwVVhQLy9ENTkzdGkxNXkwT2Q3eUMyaFFzemxxSWJ4WW5rRlZ3WG9UOWZRCmJkUTlPdHBDdDhFWm5LRXlDeGNrK2hsS0V5WVRjSDJQcVo3TmRwME04STJ6bnozS3V0L3VZSExVZGRmb1BGL20KTzBWNmZieUIvTXgvRzF1TGl2L0JWcHgzQWRQKzN5Z0p5S3RlbFhrRCtJZGxZM3kxMTBmem1WcjZOZ3hBYnovaApuOUtwdUs0U0Vsb0l5Y1pVYUtWWEFhWDdUNDJTRll3N21zbUIrVXU3ejVvTE9panNqWDZUamVvZmRGQlovQnlsClN4T0RncWh0YVBuT3hRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoKLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURGVENDQWYyZ0F3SUJBZ0lVRzlNZHYzbk9RMmk3djY4T2dqQXJVNGxoQmlrd0RRWUpLb1pJaHZjTkFRRUwKQlFBd0ZqRVVNQklHQTFVRUF3d0xaWGhoYlhCc1pTNWpiMjB3SGhjTk1qVXdOekEzTVRBME1EUXdXaGNOTWpZdwpOekEzTVRBME1EUXdXakFXTVJRd0VnWURWUVFEREF0bGVHRnRjR3hsTG1OdmJUQ0NBU0l3RFFZSktvWklodmNOCkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFOdWVxd2ZBQXBqVGZnK254SW9LVks0c0svWWxOSUN2ZG9FcTFVRUwKU3RFOXdmVHYwSjI3dU5Jc2ZwTXFDeDBOaTlSanQxaHpqdW5jOEhVSkRlb2JNTnhHYVptcnlRb2ZyZEpXSjdVdQp0NWplTFcvdzBNZWxQT2ZGTHNEaU01UkV5NFd1UG0yWDZ2MVoxTjNONUdSM1VORE90RHRzYmpTMW1vbXZvb0xPCjlXeFBJcjJjZm1QcXI4MWZ5eUQyUmVac01DLzhsVnMwUGtBOVhCcGxNenBTVTUzRFdsNS9OeWgyZDFXNUVOSzAKWncxbDVaZTRVR1Vlb2hRTWE1Y0Q1aG1aY0JqT2VKRjhNdVNUaTMxNjdLU29wb3FmZ0hUdkM1SXNCZVdYQXlaRgo4MWloRllBcStTYmhVWmVVbHN4YzF3dmV1QWRCUnphZmNZa0s0N2dZbWJxMUs2MENBd0VBQWFOYk1Ga3dGZ1lEClZSMFJCQTh3RFlJTFpYaGhiWEJzWlM1amIyMHdDd1lEVlIwUEJBUURBZ2VBTUJNR0ExVWRKUVFNTUFvR0NDc0cKQVFVRkJ3TUJNQjBHQTFVZERnUVdCQlNvYTFadTJvK3BRNnNxMkhjT2pBZ2xaa3AwMXpBTkJna3Foa2lHOXcwQgpBUXNGQUFPQ0FRRUFEWnExRU13L2pNbDB6MkxwUGg4Y1hiUDA5Qm5mWGhvRmJwTDRjRnJjQk5FeWlnMG9QTzBqCllOMWU0YmZVUk5kdUZWbkMvRkRuWmhSM0ZsQXQ4YTZvekpBd21KcCtuUUNZRm9EUXdvdFN4MTJ5NUJjOUlYd2QKQlJaYUxnSFl5Mk5qR3AyVWdBeWEyejIzQmtVbndPSndKTk1DenVHdzNwT3NtRFFZMGRpUjhaV21FWVlFUGhlVwo2QlZrcmlrelVOWHYzdEI4TG1XenhWOVYzZU43MWZuUDV1MzlJTS9VUXNPWkdSVW93Lzh0dk4yL2QwVzRkSGt5CnQva2RnTEtoZjRnVTJ3WHEvV2JlcXhsRFNwam83cS9lbU5sNTl2MUZIZVIzZUlUU1NqRVNVK2RRZ1JzWWFHRW4KU1dQKzU4QXBmQ2NVUkxwTXhVbXhrTzFheWZlY05KYm1TUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
  target:
    service: default/mcp-svc.default.svc.cluster.local
- name: default/mcp-tls-system-cert:backendtls:default/mcp-backend/mcp-static
  spec:
    backendTls:
      hostname: mcp-app.foo
  target:
    backend: default/mcp-backend/mcp-static
- name: default/mcp-tls-system-cert:backendtls:service/default/mcp-svc.default.svc.cluster.local:80
  spec:
    backendTls:
      hostname: mcp-app.foo
  target:
    backend: service/default/mcp-svc.default.svc.cluster.local:80
Routes:
- backends:
  - backend:
      backend: default/mcp-backend
    weight: 1
  hostnames:
  - example.com
  key: default/example-route.0.0.http
  listenerKey: default/example-gateway.http
  matches:
  - path:
      pathPrefix: /mcp-backend
  routeName: default/example-route
- backends:
  - backend:
      port: 80
      service: default/mcp-svc.default.svc.cluster.local
    weight: 1
  hostnames:
  - example.com
  key: default/example-route.1.0.http
  listenerKey: default/example-gateway.http
  matches:
  - path:
      pathPrefix: /mcp-svc
  routeName: default/example-route
- backends:
  - backend:
      backend: default/ai-groups
    weight: 1
  hostnames:
  - example.com
  key: default/example-route.2.0.http
  listenerKey: default/example-gateway.http
  matches:
  - path:
      pathPrefix: /ai-groups
  routeName: default/example-route
- backends:
  - backend:
      backend: default/openai-single
    weight: 1
  hostnames:
  - example.com
  key: default/example-route.3.0.http
  listenerKey: default/example-gateway.http
  matches:
  - path:
      pathPrefix: /openai-single
  routeName: default/example-route
